(DATE=DD-MM-YY 02-02-2021 TIME=HH-MM-SS 11:29:56)
%
O21
G0 G17 G40 G49 G54 G90 G98

G100 P221L10 F1 T1 (E:FTP\TOM\RESULTS\03AUG22.TXT)
G100 P221 L20 F1 (TOOL NUMBER,CUT DEPTH,LOOP,NC4 LENGTH,NC4 RADIUS); MISSING END
G100 P221 L11 F1
M12
M103P2
M105P2
M107P2
#1=0; LOOP COUNTER
#2=400; LOOP TARGET
#3=6; BURR TOOL NUMBER
#4=1.3; BURR TOOL DIAMETER
#5=1; PROBE TOOL NUMBER
#6=20; WORKPIECE Y LENGTH
;#7
#8=24000; SPINDLE SPEED(CUT)
#9=3000; SPINDLE SPEED(OTHER)
#10=60; FEED RATE(CUT)
#11=5.; Z CUT DEPTH
#12=0.03; X CUT DEPTH
#13 = #12; GLASS*CUT*TOTAL
;#14
#15=0; TOTAL CUTS
#16=0; CUT REPEAT COUNTER
#17=400; SIC CUTS PER PROBE
#18=1; NO. OF CUTS BEFORE MEASURE
;#19=MEASURE TOOL Z HEIGHT
;#20=MEASURE TOOL BEAM SIDE
;#21=MEASURE TOOL INCREMENT
;#22=MEASURE TOOL Y POSITION
;#23=PROBE Y START POS
;#24=PROBE Y STEP DISTANCE
;#25=PROBE Y STEPS
;#26=FIRST STEP

GOTO3; GO TO PROBE AND MEASURE
N1
#16=0.; CUT REPEAT COUNTER

N2; CUT SIC ****************************
WHILE[#16LT#18]DO1
T#3M6
G54.1000 P7 
G90 G0 X-#4 Y-#4
G0 G43 H#2233 Z50 F5000
M3 S#8
M8
G1 Z-#11
G01 X[[#12*#15]-#[6300+#3]] F#10
;ACOUSTICS SIGNAL
M107P1
;CUTTING PASS
G01 Y#6
M107P2
G40
G1 Z50 F5000 M9
M5
M1
IF[#1GE#2]GOTO3
#1=#1+1
#15=#15+1
#16=#16+1
END1

N3; MEASURE TOOL
;MEASURE
T#3M6
G53
G4X10
G65 P7862 B3 R#4 Z[#11/2] S#8
#604=#[6300+#3]

;PRINT OUT DATA
G100 P221L10 F1 T1 (E:\FTP\TOM\RESULTS\03AUG22.TXT)
G100 P221 L20 F1 (<FMT:.4F,#3>,<FMT:.4F,#11>,<FMT:.4F,#1>); MISSING END
G100 P221 L11 F1

N4; ANALOGUE TRACE AT Z BOTH SIDES
#20=1.
#21=0.04
M105P1
G4X1
M103P1
N41
#22=[[#522+#523]/2]+#20*[[#4/2]+#21]
G1 G53 F8000 X#524 Y#22
G49
#19=[[[#520+#521]/2]-[#11/2]]+#[6100+#2233]
G53 Z#19
M3S60
G4X4
G53
#21=#21-0.01
IF[#21GE-0.01]GOTO41
#21=0.04
#20=#20-2.
IF[#20GE-1.]GOTO41
M103P2
M105P2
M5
G91G28Z0
G90

GOTO6;SKIP*GLASS
N5;GLASS*CUTTING*PROXY
IF[#15EQ0]GOTO6
IF[[#15/#17]EQ[FIX[#15/#17]]]GOTO51
GOTO6
N51;CUT GLASS
G54.1000 P6
G90 G0 X-#4 Y-#4
G0 G43 H#2233 Z50 F5000
M3 S#8
M8
G1 Z-3
G01 X[#13-#[6300+#3]] F#10
;CUTTING PASS
G1 Y70
G40
G1 Z50 F5000 M9
M5
M12
#13=#13+#12;INCREMENT CUT DEPTH
G91G28Z0

N6
IF[#16EQ0]GOTO61
GOTO7
N61
;PROBE SIC SURFACE - PRE
T#5M6
G54.1000 P7
G0 X-5 Y-5
G1 G43 H#2233 Z100 F3000
#635=2;PROBE Y START POS
#636=8;PROBE Y STEP DISTANCE
#637=18;PROBE Y END POS
#638=642;MEASURED POSITION STORE START
#639=0;RUNNING TOTAL
#640=[[#637-#635]/#636]+1;NUMBER OF MEASUREMENTS

M104P1
G4X2
G65 P7810 Z-2 Y#635; PROTECTED MOVE
G65 P7811 X0
#[#638]=#135;SAVE MEASURED X POSITION
#639=#639+#[#638]
#641=#[#638]

G100 P221L10 F1 T1 (E:\FTP\TOM\RESULTS\POINT DATA - 03AUG22.TXT)
G100 P221 L20 F1(SIC,<FMT:.4F,#1>,<FMT:.4F,#641>)

N62
#635=#635+#636
G65 P7810 Y#635
#638=#638+1
G65 P7811 X0
#[#638]=#135; SAVE MEASURED X POSITION
#641=#[#638]
G100 P221 L20 F1(,<FMT:.4F,#641>)
#639=#639+#[#638]
IF[#635LT#637]GOTO62
G100 P221 L20 F1(<ELN:>)
G100 P221 L11 F1
#5261=#5261+[#639/#640]

;G65 P7816 X0 Y0 I40 J40 S107
G65 P7810 Z100
M104P2
#601=#5261

N7;PROBE SIC
IF[[#15/#17]NE[FIX[#15/#17]]]GOTO9
G91G28Z0
G90
T#5M6
G54.1000 P7
G0 X-5 Y0
G1 G43 H#2233 Z100 F3000
#23=5;PROBE Y START POS
#24=10;PROBE Y STEP DISTANCE
#25=2;PROBE Y STEPS
#26=0;FIRST STEP
M104P1
G4X2
N71;MEASUREMENTS
G65 P7810 Z-3 Y#23
GOTO72
IF[#15NE0]GOTO72
IF[#26NE0]GOTO72
G65 P7811 X0 S106
GOTO73
N72
G65 P7811 X[#12*#15]
N73
#[660+#26]=#135;SAVE MEASURED X POSITION
M12
#26=#26+1
#23=#23+#24
IF[#26LT#25]GOTO71
G65 P7810 Z100
M104P2
G91G28Z0
G90

G100 P221L10 F1 T1 (E:\FTP\TOM\RESULTS\POINT DATA - 03AUG22.TXT)
G100 P221 L20 F1(SIC,<FMT:.1F,#15>,<FMT:.4F,#660>, ,FMT:.4F); MISSING END
G100 P221 L20 F1(FMT:.4F,#663>,<FMT:.4F,#664>,<FMT:.4F,#665>,); MISSING END
G100 P221 L11 F1

N9
IF[#1GE#2]GOTO10;RUN NUMBER CHECK 
GOTO1

N10

M30
%